---
import { Image } from "@astrojs/image/components";
import H1 from "../../components/H1.astro";
import Layout from "../../layouts/Layout.astro";

const allPosts = await Astro.glob("./*.md");
console.log(allPosts);
---

<Layout>
    <H1>Web Design Blog</H1>
    <section class="light">
        <div class="wrapper grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 md:gap-12 auto-rows-">
            {
                allPosts.map((post) => (
                    
                    <article class="blogCard flex flex-col">
                        <Image
                            class="w-full rounded-lg"
                            alt=""
                            src={post.frontmatter.bannerImg}
                            width={400}
                            aspectRatio="4:3"
                            format="avif"
                            fit="cover"
                        />
                        <div class="dark relative -top-16 w-4/5 mx-auto px-8 pb-8 rounded-b-3xl h-full flex flex-col justify-between">
                            <div class="flex flex-col"><h2 class="text-center font-title text-2xl lg:text-3xl pt-8 ">
                                {post.frontmatter.title}
                            </h2>
                            <p class="mt-5">{post.frontmatter.description}</p></div>
                            <a href={post.url}class="button ml-auto mt-8 px-5 py-2"> Read the Blog</a>
                        </div>
                    </article>
                ))
            }
        </div>
        <aside><h2>Related Posts</h2></aside>
    </section>
</Layout>
