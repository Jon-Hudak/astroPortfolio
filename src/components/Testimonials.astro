---
import { Image } from "@astrojs/image/components";
import { Icon } from "astro-icon";
import { getCollection } from "astro:content";

const testimonials = await getCollection("testimonials");
console.log(testimonials);
---

<section class="text-white ">
    <!-- {JSON.stringify(testimonials)} -->
    {
        testimonials.map((item) => (
            <article class="py-10 flex shrink-0 gap-4 px-10 even:flex-row-reverse">
                <div id="testiInfo" class="flex flex-col shrink-0 text-center">
                    <Image
                        class="rounded-full border border-accent-blue h-32 w-32"
                        alt="face"
                        src={item.data.image1}
                        height={150}
                        width={150}
                        aspectRatio="1:1"
                        format="jpg"
                    />
                    <h3 class="text-2xl text-accent-blue font-bold">
                        {item.data.name}
                    </h3>
                    <p>{item.data.title}</p>
                    <a class="text-white" href={item.data.link}>
                        {item.data.company}
                    </a>
                </div>
                <div id="testiBody" class="text-3xl font-thin flex px-10 quotebox">
                    <Icon
                        class="fadeUp w-24 rotate-180 shrink-0 place-self-start"
                        name="quote"
                    />
                    <p class="px-8">
                        <span class="" set:html={item.data.excerpt} />
                    </p>
                    <Icon class="fadeUp w-24 shrink-0 place-self-end" name="quote" />
                </div>
            </article>
        ))
    }
</section>
<style>
     .quotebox p {
    @apply leading-snug mt-3 font-thin;
  }
  .quotebox strong {
    @apply font-bold text-white;
  }
</style>
